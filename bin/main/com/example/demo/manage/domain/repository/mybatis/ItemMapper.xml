<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.manage.domain.repository.mybatis.ItemMapper">

	<resultMap type="com.example.demo.manage.domain.model.Item" id="item">
		<id column="item_id" property="itemId"></id>
		<result column="item_cd" property="itemCd"></result>
		<result column="item_name" property="itemName"></result>
		<result column="composite_flag" property="compositeFlag"></result>
		<result column="item_status" property="itemStatus"></result>
	</resultMap>

	<insert id="insertItem" parameterType="com.example.demo.manage.domain.model.Item">
	INSERT INTO item
	VALUES (#{itemId},#{itemCd},#{itemName},#{compositeFlag},#{itemStatus},
	#{comp1},#{comp2},#{comp3},#{comp4},#{comp5},#{comp6},#{comp7},#{comp8},#{comp9},#{comp10})
	</insert>

	<select id="selectOneItem" parameterType="string" resultMap="item">
	SELECT *
	FROM item
	WHERE item_id = #{itemId}
	</select>

	<select id="selectAllItem" resultMap="item">
	SELECT *
	FROM item
	</select>

	<update id="updateItem" parameterType="com.example.demo.manage.domain.model.Item">
	UPDATE item
	SET item_cd = #{itemCd}, item_name = #{itemName},
	composite_flag = #{compositeFlag}, item_status = #{itemStatus},
	comp1 = #{comp1}, comp2 = #{comp2}, comp3 = #{comp3}, comp4 = #{comp4},
	comp5 = #{comp5}, comp6 = #{comp6}, comp7 = #{comp7}, comp8 = #{comp8},
	comp9 = #{comp9}, comp10 = #{comp10}
	WHERE item_id = #{itemId}
	</update>

	<delete id="deleteItem" parameterType="string">
	DELETE FROM item
	WHERE item_id = #{itemId}
	</delete>

	<select id="searchItem" resultMap="item">
	SELECT *
	FROM item
	WHERE item_id LIKE CONCAT('%',#{id},'%')
	AND item_cd LIKE CONCAT('%',#{cd},'%')
	AND item_name LIKE CONCAT('%',#{name},'%')
	AND composite_flag = #{flag}
	AND item_status = #{status}
	</select>

	<delete id="deleteAllItem">
	DELETE FROM item
	</delete>

</mapper>